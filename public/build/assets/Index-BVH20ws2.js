import{j as e,t as n,r as b,Q as g,S as m}from"./app-DtoqWyUr.js";import{a as f,c as l,S as v,d as j,B as o}from"./app-logo-icon-BnMucHxZ.js";import{I as y}from"./input-DQLEiTD8.js";import{d as w,A as N,e as C,f as S,g as _,h}from"./app-layout-D5TzdPAC.js";import{C as T,a as I,b as A}from"./card-zEqq9qR1.js";import"./app-DCrAcneB.js";import"./index-if-4Y0xx.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],D=f("ChevronLeft",B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],M=f("Ellipsis",E);function R({className:r,...t}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:l("w-full caption-bottom text-sm",r),...t})})}function $({className:r,...t}){return e.jsx("thead",{"data-slot":"table-header",className:l("[&_tr]:border-b",r),...t})}function z({className:r,...t}){return e.jsx("tbody",{"data-slot":"table-body",className:l("[&_tr:last-child]:border-0",r),...t})}function u({className:r,...t}){return e.jsx("tr",{"data-slot":"table-row",className:l("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",r),...t})}function d({className:r,...t}){return e.jsx("th",{"data-slot":"table-head",className:l("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})}function c({className:r,...t}){return e.jsx("td",{"data-slot":"table-cell",className:l("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...t})}const L=j("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function P({className:r,variant:t,asChild:i=!1,...s}){const x=i?v:"span";return e.jsx(x,{"data-slot":"badge",className:l(L({variant:t}),r),...s})}function H({links:r,className:t=""}){return r.length<=3?null:e.jsxs("div",{className:`flex items-center justify-between ${t}`,children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[r[0].url?e.jsx(n,{href:r[0].url,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Précédent"}):e.jsx("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-300 bg-white cursor-not-allowed",children:"Précédent"}),r[r.length-1].url?e.jsx(n,{href:r[r.length-1].url,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Suivant"}):e.jsx("span",{className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-300 bg-white cursor-not-allowed",children:"Suivant"})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de la page ",e.jsx("span",{className:"font-medium",children:r[0].label})," sur"," ",e.jsx("span",{className:"font-medium",children:r[r.length-1].label})]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:r.map((i,s)=>e.jsxs(n,{href:i.url||"#",className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${i.active?"z-10 bg-primary border-primary text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${s===0?"rounded-l-md":""} ${s===r.length-1?"rounded-r-md":""}`,preserveScroll:!0,children:[s===0&&e.jsx(D,{className:"h-4 w-4"}),s===r.length-1&&e.jsx(w,{className:"h-4 w-4"}),s!==0&&s!==r.length-1&&i.label]},s))})})]})]})}function J({controlleurs:r,filters:t}){const[i,s]=b.useState(t.search||""),x=a=>{a.preventDefault(),m.get(route("controlleurs.index"),{search:i},{preserveState:!0})},p=[{title:"Utilisateurs",href:"/users"}];return e.jsxs(N,{breadcrumbs:p,children:[e.jsx(g,{title:"Utilisateurs"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:e.jsxs(T,{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:[e.jsxs(I,{className:"flex items-center justify-between mb-6",children:[e.jsx(A,{className:"text-2xl font-bold",children:"Gestion des utilisateurs"}),e.jsx(n,{href:route("controlleurs.create"),children:e.jsx(o,{children:"Nouvel utilisateur"})})]}),e.jsxs("div",{className:"rounded-md shadow overflow-hidden",children:[e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:x,className:"flex items-center space-x-4",children:[e.jsx(y,{placeholder:"Rechercher...",value:i,onChange:a=>s(a.target.value),className:"max-w-md"}),e.jsx(o,{type:"submit",children:"Filtrer"}),i&&e.jsx(o,{variant:"outline",onClick:()=>{s(""),m.get(route("controlleurs.index"),{search:""},{preserveState:!0})},children:"Réinitialiser"})]})}),e.jsxs(R,{children:[e.jsx($,{children:e.jsxs(u,{children:[e.jsx(d,{children:"Nom"}),e.jsx(d,{children:"Email"}),e.jsx(d,{children:"Statut"}),e.jsx(d,{children:"Créé le"}),e.jsx(d,{className:"text-right",children:"Actions"})]})}),e.jsx(z,{children:r.data.map(a=>e.jsxs(u,{children:[e.jsx(c,{children:a.name}),e.jsx(c,{children:a.email}),e.jsx(c,{children:e.jsx(P,{variant:a.is_active?"default":"destructive",children:a.is_active?"Actif":"Inactif"})}),e.jsx(c,{children:a.created_at}),e.jsx(c,{className:"text-right",children:e.jsxs(C,{children:[e.jsx(S,{asChild:!0,children:e.jsx(o,{variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(M,{className:"h-4 w-4"})})}),e.jsxs(_,{align:"end",children:[e.jsx(h,{asChild:!0,children:e.jsx(n,{href:route("controlleurs.edit",{controlleur:a.ref}),children:"Modifier"})}),e.jsx(h,{asChild:!0,children:e.jsx(n,{href:route("controlleurs.destroy",{controlleur:a.ref}),method:"delete",as:"button",className:"w-full text-left",onBefore:()=>confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ?"),children:"Supprimer"})})]})]})})]},a.id))})]}),e.jsx(H,{links:r.links,className:"p-6"})]})]})})})]})}export{J as default};
