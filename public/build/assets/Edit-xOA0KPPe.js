import{x as N,j as e,Q as b}from"./app-BwUgBRIQ.js";import{B as p}from"./app-logo-icon-DKlrCqW-.js";import{I as x}from"./input-DNxk72KD.js";import{L as r}from"./label-Bpk2tQkr.js";import{A as C}from"./app-layout-DFXeeaCy.js";import{S as l,a as o,b as c,c as m,d}from"./select-DYEvW82m.js";import{T as S}from"./textarea-Bhw3-42L.js";import{f as j}from"./format-BtYX0kVO.js";import"./app-Bv0XEd45.js";import"./index-pLZ0GORo.js";import"./check-CFOJpoHv.js";function B({tax:n,motocyclistes:u,agents:_,tarifs:v}){const{data:i,setData:s,put:f,processing:h,errors:a}=N({motocycliste_id:n.motocycliste_id,agent_id:n.agent_id,tarif_id:n.tarif_id,montant:n.montant,date_paiement:j(new Date(n.date_paiement),"yyyy-MM-dd"),date_expiration:j(new Date(n.date_expiration),"yyyy-MM-dd"),statut:n.statut,mode_paiement:n.mode_paiement,reference_paiement:n.reference_paiement||"",notes:n.notes||""}),g=t=>{t.preventDefault(),f(route("taxes.update",n.id))},y=[{title:"Taxes",href:"/taxes"},{title:"Modifier la taxe",href:`/taxes/${n.id}/edit`}];return e.jsxs(C,{breadcrumbs:y,children:[e.jsx(b,{title:"Modifier la taxe"}),e.jsxs("div",{className:"container py-6 px-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Modifier la taxe"}),e.jsx("div",{className:"p-6 rounded-lg shadow",children:e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"motocycliste_id",children:"Motocycliste"}),e.jsxs(l,{value:i.motocycliste_id,onValueChange:t=>s("motocycliste_id",t),children:[e.jsx(o,{children:e.jsx(c,{placeholder:"Sélectionner un motocycliste"})}),e.jsx(m,{children:u.map(t=>e.jsxs(d,{value:t.id,children:[t.nom," ",t.prenom]},t.id))})]}),a.motocycliste_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.motocycliste_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"agent_id",children:"Agent"}),e.jsxs(l,{value:i.agent_id,onValueChange:t=>s("agent_id",t),children:[e.jsx(o,{children:e.jsx(c,{placeholder:"Sélectionner un agent"})}),e.jsxs(m,{children:[e.jsx(d,{value:null,children:"Aucun agent"}),_.map(t=>e.jsxs(d,{value:t.id,children:[t.nom," ",t.prenom]},t.id))]})]}),a.agent_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.agent_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"tarif_id",children:"Tarif"}),e.jsxs(l,{value:i.tarif_id,onValueChange:t=>s("tarif_id",t),children:[e.jsx(o,{children:e.jsx(c,{placeholder:"Sélectionner un tarif"})}),e.jsx(m,{children:v.map(t=>e.jsxs(d,{value:t.id,children:[t.type_taxe," - ",t.montant," (",t.periode,")"]},t.id))})]}),a.tarif_id&&e.jsx("p",{className:"text-sm text-red-500",children:a.tarif_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"montant",children:"Montant"}),e.jsx(x,{id:"montant",type:"number",step:"0.01",min:"0",value:i.montant,onChange:t=>s("montant",parseFloat(t.target.value)),required:!0}),a.montant&&e.jsx("p",{className:"text-sm text-red-500",children:a.montant})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"date_paiement",children:"Date de paiement"}),e.jsx(x,{id:"date_paiement",type:"date",value:i.date_paiement,onChange:t=>s("date_paiement",t.target.value),required:!0}),a.date_paiement&&e.jsx("p",{className:"text-sm text-red-500",children:a.date_paiement})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"date_expiration",children:"Date d'expiration"}),e.jsx(x,{id:"date_expiration",type:"date",value:i.date_expiration,onChange:t=>s("date_expiration",t.target.value),required:!0}),a.date_expiration&&e.jsx("p",{className:"text-sm text-red-500",children:a.date_expiration})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"statut",children:"Statut"}),e.jsxs(l,{value:i.statut,onValueChange:t=>s("statut",t),children:[e.jsx(o,{children:e.jsx(c,{placeholder:"Sélectionner un statut"})}),e.jsxs(m,{children:[e.jsx(d,{value:"payé",children:"Payé"}),e.jsx(d,{value:"impayé",children:"Impayé"}),e.jsx(d,{value:"en retard",children:"En retard"})]})]}),a.statut&&e.jsx("p",{className:"text-sm text-red-500",children:a.statut})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"mode_paiement",children:"Mode de paiement"}),e.jsxs(l,{value:i.mode_paiement,onValueChange:t=>s("mode_paiement",t),children:[e.jsx(o,{children:e.jsx(c,{placeholder:"Sélectionner un mode de paiement"})}),e.jsxs(m,{children:[e.jsx(d,{value:"cash",children:"Cash"}),e.jsx(d,{value:"mobile money",children:"Mobile Money"}),e.jsx(d,{value:"carte",children:"Carte"})]})]}),a.mode_paiement&&e.jsx("p",{className:"text-sm text-red-500",children:a.mode_paiement})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(r,{htmlFor:"reference_paiement",children:"Référence de paiement"}),e.jsx(x,{id:"reference_paiement",value:i.reference_paiement,onChange:t=>s("reference_paiement",t.target.value)}),a.reference_paiement&&e.jsx("p",{className:"text-sm text-red-500",children:a.reference_paiement})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(r,{htmlFor:"notes",children:"Notes"}),e.jsx(S,{id:"notes",value:i.notes,onChange:t=>s("notes",t.target.value)}),a.notes&&e.jsx("p",{className:"text-sm text-red-500",children:a.notes})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(p,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:route("taxes.index"),children:"Annuler"})}),e.jsx(p,{type:"submit",disabled:h,children:h?"Enregistrement...":"Enregistrer"})]})]})})]})]})}export{B as default};
